@{
    ViewBag.Title = "Index";
    //Layout = "~/Views/Shared/_MovieMirchiLayout.cshtml";
    Layout = "~/Views/Shared/_MovieLayout.cshtml";
}

<style>
    .movie-panel {
        margin-top: -10px;
    }

    #now-pager {
        float: left;
        width: 100%;
        position: absolute;
        bottom: 0px;
        text-align: center;
        left: 0%;
    }

    .viewingDiv {
        float: none;
        position: relative;
        display: table;
        /*overflow:hidden;*/
    }

    div.multimediaCaption {
        font-family: Arial;
        font-size: 12px;
        display: inline;
    }

    .viewer {
        text-align: center;
        vertical-align: middle;
        position: relative;
        float: left;
    }

    img.shownImage {
        border: solid 1px transparent;
        box-shadow: 0px 0px 15px #555;
    }

    div.navigate {
        font-family: arial,tahoma,sans-serf;
        font-size: 14px;
        font-weight: bold;
        /*text-transform:uppercase;*/
    }

    div.captionAndNavigate {
        background-color: #000;
        bottom: 0px;
        color: #FFFFFF;
        left: 0;
        margin-bottom: 0;
        margin-top: 0;
        opacity: 0.7;
        filter: alpha(opacity=70);
        /*padding: 2px 0 2px 2px;*/
        padding: 0px;
        position: absolute;
        text-align: left;
        z-index: 2;
    }

    .overLaying {
        z-index: 20;
        color: #000000;
        opacity: 0.7;
        filter: alpha(opacity=70);
        position: absolute;
        top: 20;
        left: 0;
    }

    .overLayImg {
        z-index: 20;
        color: #000000;
        opacity: 0.7;
        filter: alpha(opacity=70);
        position: absolute;
        top: 0;
        left: 0;
        width: 42px;
        height: 42px;
        vertical-align: middle;
        overflow: hidden;
        cursor: pointer;
        /*Chrome*/
        -webkit-border-radius: 5em;
        /*Firefox*/
        -moz-border-radius: 5em;
        /*IE*/
        border-radius: 5em;
        /*behavior: url(PIE.htc);*/
        background: url("/news/images/icons/icon_av_main.gif") no-repeat scroll 0 0 transparent;
    }

        .overLayImg:hover {
            background: url("/news/images/icons/icon_av_main.gif") no-repeat scroll 0 -42px transparent;
        }

        .overLayImg[title="Play Video"] {
            background: url("/news/images/icons/icon_av_main.gif") no-repeat scroll 0 -126px transparent;
        }

            .overLayImg[title="Play Video"]:hover {
                background: url("/news/images/icons/icon_av_main.gif") no-repeat scroll 0 -168px transparent;
            }

        .overLayImg[title="Watch Flash"] {
            background: url("/news/images/icons/flash.png") no-repeat scroll 0 0px transparent;
        }

            .overLayImg[title="Watch Flash"]:hover {
                background: url("/news/images/icons/flash.png") no-repeat scroll 0 -42px transparent;
            }
</style>
<div class="content">
    @*<div class="banner">
            <img src="~/Images/banner-images/movies-collage.jpg" />
            <div class="banner-layer"></div>
            <div class="home-search-bar">
                <div class="header-title">Find the movie to watch</div>
                <div class="search-container">
                    <div class="input-group search-input">
                        <div id="search-bar">
                            <input type="text" class="form-control search" placeholder="What do you like?" id="home-search" name="query" value="" autocomplete="off" />
                            <span class="clear-search-bar" title="Clear search"><img src="/Images/clear-button.png" class="clear-search-bar-button"></span>
                            <div id="search-results"></div>
                        </div>
                    </div>
                    <div class="search-button">Search</div>
                </div>
            </div>
        </div>*@
    <div class="movies">
        @*<div class="review-navigation">
                <div title="Previous" id="previousMovies" class="previous-movies" style="display:none" onclick="PreviousMovies();">
                    <img src="~/Images/pervious.png" alt="pervious" />
                </div>
                <div title="Next" id="nextMovies" class="next-movies" style="display:none" onclick="NextMovies();">
                    <img src="~/Images/next.png" alt="next" />
                </div>
            </div>*@
        @*<div class="tube-container">
                <div class="section-title large-fonts">
                                Now Playing
                            </div>
                            <div class="movie-list">
                        <ul></ul>
                        <div id="now-pager"></div>
                    </div>
            </div>
            <div class="tube-container">
                <div class="section-title  large-fonts">
                    Upcoming
                </div>
                <div class="upcoming-movie-list">
                    <ul></ul>
                    <div id="upcoming-pager"></div>
                </div>
            </div>
            <div class="tube-container">
                <div class="section-title  large-fonts" style="margin-bottom: 1%;">
                    News
                </div>
                <div class="news-container">
                    <ul></ul>
                    <div id="news-pager"></div>
                </div>
            </div>
            <div class="tube-container">
                <div class="section-title  large-fonts" style="margin-bottom: 3%;">
                    Top Critics
                </div>
                <div class="critics-container">
                    <ul></ul>
                    <div id="critics-pager"></div>
                </div>
            </div>*@
    </div>
    <script>
        var indexer = 0;
        $(document).ready(function () {
            $(".movies").append(GetTubeControl("Now Playing", "movie-list", "now-pager"));
            $(".movies").append(GetTubeControl("Upcoming", "upcoming-movie-list", "upcoming-pager"));
            $(".movies").append(GetTubeControl("News", "news-container", "news-pager"));
            $(".movies").append(GetTubeControl("Top Critics", "critics-container", "critics-pager"));

            LoadCurrentMovies();

            // TOP CRITIC
            var ul = $(".critics-container").find("ul").css("height", "280px");
            critics = [
                { href: 'rajeev-masand', title: 'Rajeev Masand', name: 'Rajeev Masand', poster: 'rajeev-masand.jpg', aff: 'CNN IBN' },
                { href: 'tarun-adarsh', title: 'Tarun Adarsh', name: 'Tarun Adarsh', poster: 'tarun-adarsh.jpg', aff: 'Bollywood Hungama, Trade Guide' },
                { href: 'anupama-chopra', title: 'Anupama Chopra', name: 'Anupama Chopra', poster: 'anupama-chopra.jpg', aff: 'Hindustan Times' },
                { href: 'shubra-gupta', title: 'Shubra Gupta', name: 'Shubra Gupta', poster: 'shubra-gupta.jpg', aff: 'Indian Express' },
                { href: 'tushar-joshi', title: 'Tushar Joshi', name: 'Tushar Joshi', poster: 'tushar-joshi.jpg', aff: 'DNA' },
                { href: 'raja-sen', title: 'Raja Sen', name: 'Raja Sen', poster: 'raja-sen.jpg', aff: 'rajasen.com' },
                { href: 'shubha-shetty', title: 'Shubha Shetty', name: 'Shubha Shetty', poster: 'shubha-shetty.jpg', aff: 'Mid-day' },
                { href: 'pratim-gupta', title: 'Pratim Gupta', name: 'Pratim Gupta', poster: 'pratim-gupta.jpg', aff: 'Telegraph, Kolkata' },
                { href: 'vajir-singh', title: 'Vajir Singh', name: 'Vajir Singh', poster: 'vajir-singh.jpg', aff: 'Box office India' },
                { href: 'komal-nahta', title: 'Komal Nahta', name: 'Komal Nahta', poster: 'komal-nahta.jpg', aff: 'Film Information' },
                { href: 'sudhish-kamath', title: 'Sudhish Kamath', name: 'Sudhish Kamath', poster: 'sudhish-kamath.jpg', aff: 'The Hindu' },
                { href: 'sarit-ray', title: 'Sarit Ray', name: 'Sarit Ray', poster: 'sarit-ray.jpg', aff: 'Hindustan Times' },
                { href: 'gaurav-malani', title: 'Gaurav Malani', name: 'Gaurav Malani', poster: 'gaurav-malani.jpg', aff: 'Times of India' },
                { href: 'aseem-chhabra', title: 'Aseem Chhabra', name: 'Aseem Chhabra', poster: 'aseem-chhabra.jpg', aff: 'Rediff' }, ,
                { href: 'saibal-chatterjee', title: 'Saibal Chatterjee', name: 'Saibal Chatterjee', poster: 'saibal-chatterjee.jpg', aff: 'NDTV' },
                { href: 'rachit-gupta', title: 'Rachit Gupta', name: 'Rachit Gupta', poster: 'rachit-gupta.jpg', aff: 'Filmfare' }, ,
                { href: 'mihir-fadnavis', title: 'Mihir Fadnavis', name: 'Mihir Fadnavis', poster: 'mihir-fadnavis.jpg', aff: 'FirstPost' }
            ].forEach(function (critic) {
                ul.append(
                    "<li class=\"reviewer\">" +
                        "<a href=\"Reviewer/" + critic.href + "\" title=\"" + critic.title + "\">" +
                            "<div id=\"picAndCaption\" class=\"viewingDiv\">" +
                                "<div id=\"imageContainer\" class=\"viewer\">" +
                                    "<img id=\"imageEl\" class=\"movie-poster shownImage\" title=\"" + critic.title + "\" alt=\"" + critic.title + "\" src=\"/Posters/Images/critic/" + critic.poster + "\" style=\"margin: auto; height: 250px; width: 193px; \" onerror=\"LoadDefaultCriticImage(this);\">" +
                                    "<div class=\"captionAndNavigate\" style=\"width: 193px; padding: 15px;\">" +
                                        "<div id=\"captionCredit\" style=\"width: 328px;\" class=\"multimediaCaption\">" +
                                            "<div id=\"photoCaption\">" +
                                                "<div class=\"img-movie-name\" style=\"font-size: 1.5em;\">" + critic.name + "</div>" +
                                                "<div class=\"img-movie-genre\" style=\"font-size: 1em;\">" + critic.aff + "</div>" +
                                            "</div>" +
                                        "</div>" +
                                    "</div>" +
                                "</div>" +
                            "</div>" +
                        "</a>" +
                    "</li>");
            });

            var totalReviewers = $(".critics-container ul li.reviewer").length;
            var pagerJson = { "pagerContainer": "critics-container", "tilesInPage": 5, "totalTileCount": totalReviewers, "pagerContainerId": "critics-pager", "tileWidth": "220" };
            PreparePaginationControl($(".critics-container"), pagerJson);
        });
    </script>
